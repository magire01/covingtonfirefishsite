{"ast":null,"code":"import _regeneratorRuntime from\"/Users/markgire/Desktop/covingtonfirefish/covfirefish-client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/markgire/Desktop/covingtonfirefish/covfirefish-client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/markgire/Desktop/covingtonfirefish/covfirefish-client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import Tabs from'@mui/material/Tabs';import Tab from'@mui/material/Tab';import Box from'@mui/material/Box';import Grid from'@mui/material/Grid';import Typography from'@mui/material/Typography';import Fab from'@mui/material/Fab';import Button from'@mui/material/Button';import TextField from'@mui/material/TextField';import InputLabel from'@mui/material/InputLabel';import MenuItem from'@mui/material/MenuItem';import FormControl from'@mui/material/FormControl';import Select from'@mui/material/Select';import CircularProgress from'@mui/material/CircularProgress';import Backdrop from'@mui/material/Backdrop';import{useNavigate}from'react-router-dom';import OrderInput from'../components/OrderInput';import MenuItemCard from'../components/MenuItemCard';import OrderItem from'../components/OrderItem';import OrderTimeForm from'../components/OrderTimeForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SubmitOrder(_ref){var orderInfo=_ref.orderInfo,_removeOrderItem=_ref.removeOrderItem,setTotalPrice=_ref.setTotalPrice,setName=_ref.setName,setPhone=_ref.setPhone,setOrderType=_ref.setOrderType,updateCompleteOrder=_ref.updateCompleteOrder;var navigate=useNavigate();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isInProgress=_useState2[0],setIsInProgress=_useState2[1];useEffect(function(){var cost=0.00;orderInfo.items.map(function(item,index){cost=cost+item.itemPrice;});setTotalPrice(cost);},[orderInfo.items]);var delay=function delay(ms){return new Promise(function(resolve){return setTimeout(resolve,ms);});};var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();setIsInProgress(true);_context.next=4;return delay(1000);case 4:fetch('http://covingtonfirefishserver-env.eba-mm2mz6gm.us-east-2.elasticbeanstalk.com/api/order/create',{method:'POST',body:JSON.stringify({name:orderInfo.name,phone:orderInfo.phone,orderType:orderInfo.orderType,orderAddress:orderInfo.orderAddress,totalPrice:orderInfo.totalPrice,items:orderInfo.items}),headers:{'Content-type':'application/json; charset=UTF-8'}}).then(function(res){res.json().then(function(body){return updateCompleteOrder(body);});setIsInProgress(false);navigate('/ordercomplete');}).catch(function(err){setIsInProgress(false);console.log(err.message);});case 5:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();var style={hasOrder:{bottom:20,position:'fixed',width:\"90%\",borderRadius:5,backgroundColor:\"black\",color:\"white\",display:\"block\"},noOrder:{display:\"none\"},spinnerDisplay:{display:\"flex\"},spinnerHide:{display:\"none\"},selectedOrderType:{backgroundColor:\"red\"},notSelectedOrderType:{backgroundColor:\"white\"}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Grid,{container:true,direction:\"column\",justifyContent:\"center\",alignItems:\"center\",children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,children:[/*#__PURE__*/_jsx(TextField,{id:\"outlined-password-input\",label:\"name\",onChange:function onChange(e){return setName(e.target.value);},style:{width:\"100%\"}}),/*#__PURE__*/_jsx(TextField,{id:\"outlined-password-input\",label:\"phone\",onChange:function onChange(e){return setPhone(e.target.value);},style:{width:\"100%\"}}),/*#__PURE__*/_jsxs(Grid,{container:true,direction:\"row\",children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(orderType){return setOrderType(\"dine\");},style:orderInfo.orderType==\"dine\"?style.selectedOrderType:style.notSelectedOrderType,children:\"Dine In\"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(orderType){return setOrderType(\"togo\");},style:orderInfo.orderType==\"togo\"?style.selectedOrderType:style.notSelectedOrderType,children:\"To Go\"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(orderType){return setOrderType(\"delivery\");},style:orderInfo.orderType==\"delivery\"?style.selectedOrderType:style.notSelectedOrderType,children:\"Delivery\"})]}),orderInfo.items.map(function(item,index){return/*#__PURE__*/_jsx(OrderItem,{itemId:item.itemId,itemName:item.itemName,itemPrice:item.itemPrice,removeOrderItem:function removeOrderItem(itemId){return _removeOrderItem(itemId);}},index);}),/*#__PURE__*/_jsxs(Typography,{children:[\"Price: \",orderInfo.totalPrice]}),/*#__PURE__*/_jsx(OrderTimeForm,{})]}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Button,{onClick:handleSubmit,disabled:isInProgress,children:\"Confirm Order\"})})]}),/*#__PURE__*/_jsx(Backdrop,{sx:{color:'#fff'},open:isInProgress,children:/*#__PURE__*/_jsx(CircularProgress,{})})]});}export default SubmitOrder;","map":{"version":3,"names":["useState","useEffect","Tabs","Tab","Box","Grid","Typography","Fab","Button","TextField","InputLabel","MenuItem","FormControl","Select","CircularProgress","Backdrop","useNavigate","OrderInput","MenuItemCard","OrderItem","OrderTimeForm","SubmitOrder","orderInfo","removeOrderItem","setTotalPrice","setName","setPhone","setOrderType","updateCompleteOrder","navigate","isInProgress","setIsInProgress","cost","items","map","item","index","itemPrice","delay","ms","Promise","resolve","setTimeout","handleSubmit","e","preventDefault","fetch","method","body","JSON","stringify","name","phone","orderType","orderAddress","totalPrice","headers","then","res","json","catch","err","console","log","message","style","hasOrder","bottom","position","width","borderRadius","backgroundColor","color","display","noOrder","spinnerDisplay","spinnerHide","selectedOrderType","notSelectedOrderType","target","value","itemId","itemName"],"sources":["/Users/markgire/Desktop/covingtonfirefish/covfirefish-client/src/pages/SubmitOrder.js"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport Tabs from '@mui/material/Tabs';\nimport Tab from '@mui/material/Tab';\nimport Box from '@mui/material/Box';\nimport Grid from '@mui/material/Grid';\nimport Typography from '@mui/material/Typography';\nimport Fab from '@mui/material/Fab';\nimport Button from '@mui/material/Button';\nimport TextField from '@mui/material/TextField';\nimport InputLabel from '@mui/material/InputLabel';\nimport MenuItem from '@mui/material/MenuItem';\nimport FormControl from '@mui/material/FormControl';\nimport Select from '@mui/material/Select';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Backdrop from '@mui/material/Backdrop';\nimport { useNavigate } from 'react-router-dom'\n\n\nimport OrderInput from '../components/OrderInput';\nimport MenuItemCard from '../components/MenuItemCard';\nimport OrderItem from '../components/OrderItem'\nimport OrderTimeForm from '../components/OrderTimeForm';\n\nfunction SubmitOrder({ orderInfo, removeOrderItem, setTotalPrice, setName, setPhone, setOrderType, updateCompleteOrder }) {\n  const navigate = useNavigate()\n\n  const [isInProgress, setIsInProgress] = useState(false)\n  \n  useEffect(() => {\n    let cost = 0.00\n    orderInfo.items.map((item, index) => {\n      cost = cost + item.itemPrice\n    })\n    setTotalPrice(cost)\n  },[orderInfo.items])\n\n  const delay = ms => new Promise(\n    resolve => setTimeout(resolve, ms)\n  );\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setIsInProgress(true)\n    await delay(1000)\n    fetch('http://covingtonfirefishserver-env.eba-mm2mz6gm.us-east-2.elasticbeanstalk.com/api/order/create', {\n       method: 'POST',\n       body: JSON.stringify({\n        name: orderInfo.name,\n        phone: orderInfo.phone,\n        orderType: orderInfo.orderType,\n        orderAddress: orderInfo.orderAddress,\n        totalPrice: orderInfo.totalPrice,\n        items: orderInfo.items\n       }),\n       headers: {\n          'Content-type': 'application/json; charset=UTF-8',\n       }\n    })\n    .then((res) => {\n      res.json().then(body => updateCompleteOrder(body))\n      setIsInProgress(false)\n      navigate('/ordercomplete')\n    })\n    .catch((err) => {\n      setIsInProgress(false)\n      console.log(err.message)\n    });\n };\n\n  const style = {\n    hasOrder: {\n      bottom: 20, \n      position: 'fixed', \n      width: \"90%\", \n      borderRadius: 5, \n      backgroundColor: \"black\",\n      color: \"white\",\n      display: \"block\"\n    },\n    noOrder: {\n      display: \"none\"\n    },\n    spinnerDisplay: {\n      display: \"flex\"\n    },\n    spinnerHide: {\n      display: \"none\"\n    },\n    selectedOrderType: {\n      backgroundColor: \"red\"\n    },\n    notSelectedOrderType: {\n      backgroundColor: \"white\"\n    }\n  }\n  return (\n    <div>       \n      <Grid container direction=\"column\" justifyContent=\"center\" alignItems=\"center\">\n        <Grid item xs={12}>\n          <TextField id=\"outlined-password-input\" label=\"name\" onChange={(e) => setName(e.target.value)} style={{ width: \"100%\" }}/>\n          <TextField id=\"outlined-password-input\" label=\"phone\" onChange={(e) => setPhone(e.target.value)} style={{ width: \"100%\" }}/>\n          <Grid container direction=\"row\">\n            <Button onClick={(orderType) => setOrderType(\"dine\")} style={(orderInfo.orderType) == \"dine\" ? style.selectedOrderType : style.notSelectedOrderType}>Dine In</Button>\n            <Button onClick={(orderType) => setOrderType(\"togo\")} style={(orderInfo.orderType) == \"togo\" ? style.selectedOrderType : style.notSelectedOrderType}>To Go</Button>\n            <Button onClick={(orderType) => setOrderType(\"delivery\")} style={(orderInfo.orderType) == \"delivery\" ? style.selectedOrderType : style.notSelectedOrderType}>Delivery</Button>\n          </Grid>\n\n           {orderInfo.items.map((item, index) => (\n              <OrderItem key={index} itemId={item.itemId} itemName={item.itemName} itemPrice={item.itemPrice} removeOrderItem={(itemId) => removeOrderItem(itemId)} />\n           ))}\n          <Typography>Price: {orderInfo.totalPrice}</Typography>\n          <OrderTimeForm />\n        </Grid>\n        <Grid item xs={12}>\n          <Button onClick={handleSubmit} disabled={isInProgress}>Confirm Order</Button>\n        </Grid>\n        \n      </Grid>\n      <Backdrop\n        sx={{ color: '#fff'}}\n        open={isInProgress}\n      >\n        <CircularProgress />\n      </Backdrop>\n    </div>\n  );\n}\n\nexport default SubmitOrder;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}